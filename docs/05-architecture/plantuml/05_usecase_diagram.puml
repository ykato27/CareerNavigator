@startuml ユースケース図
!theme plain
skinparam backgroundColor #FFFFFF
skinparam actorBackgroundColor #E8F4F8
skinparam usecaseBackgroundColor #BBDEFB
skinparam packageBackgroundColor #F5F5F5
skinparam arrowColor #4A90E2
skinparam defaultFontName "Noto Sans CJK JP, IPAGothic, MS Gothic, sans-serif"

title CareerNavigator ユースケース図

left to right direction

:従業員\n(一般ユーザー): as Employee
:人事担当者\n(HR Manager): as HR
:システム管理者\n(Admin): as Admin
:データサイエンティスト\n(Data Scientist): as DataScientist

rectangle "CareerNavigator システム" {

  package "データ管理" #E8F5E9 {
    usecase "CSVデータアップロード" as UC1
    usecase "データ検証" as UC2
    usecase "データ品質監視" as UC3
    usecase "データ変換・前処理" as UC4
    usecase "カテゴリ階層管理" as UC5
  }

  package "推薦機能" #E3F2FD {
    usecase "スキル推薦を取得" as UC6
    usecase "ロールモデルを検索" as UC7
    usecase "キャリアパスを表示" as UC8
    usecase "推薦理由を確認" as UC9
    usecase "多様性を考慮した推薦" as UC10
  }

  package "モデル管理" #FFF3E0 {
    usecase "モデル学習を実行" as UC11
    usecase "ハイパーパラメータ調整" as UC12
    usecase "モデルを保存・読込" as UC13
    usecase "モデルを比較" as UC14
    usecase "モデル性能を評価" as UC15
  }

  package "可視化・分析" #F3E5F5 {
    usecase "推薦結果を可視化" as UC16
    usecase "スキルネットワークを表示" as UC17
    usecase "キャリアパスを可視化" as UC18
    usecase "評価メトリクスを表示" as UC19
    usecase "データ統計を確認" as UC20
  }

  package "システム設定" #FFEBEE {
    usecase "推薦パラメータ設定" as UC21
    usecase "多様性戦略選択" as UC22
    usecase "ログ確認" as UC23
    usecase "システム設定変更" as UC24
  }
}

' 従業員の利用
Employee --> UC6
Employee --> UC7
Employee --> UC8
Employee --> UC9
Employee --> UC16
Employee --> UC17
Employee --> UC18

' 人事担当者の利用
HR --> UC1
HR --> UC3
HR --> UC6
HR --> UC7
HR --> UC8
HR --> UC14
HR --> UC16
HR --> UC19
HR --> UC20

' システム管理者の利用
Admin --> UC1
Admin --> UC2
Admin --> UC3
Admin --> UC4
Admin --> UC5
Admin --> UC23
Admin --> UC24

' データサイエンティストの利用
DataScientist --> UC11
DataScientist --> UC12
DataScientist --> UC13
DataScientist --> UC14
DataScientist --> UC15
DataScientist --> UC19
DataScientist --> UC21
DataScientist --> UC22

' ユースケース間の関係

' include関係
UC1 .> UC2 : <<include>>
UC1 .> UC4 : <<include>>
UC6 .> UC7 : <<include>>
UC6 .> UC9 : <<include>>
UC11 .> UC4 : <<include>>
UC11 .> UC13 : <<include>>
UC14 .> UC15 : <<include>>
UC16 .> UC19 : <<include>>

' extend関係
UC6 <. UC10 : <<extend>>
UC11 <. UC12 : <<extend>>
UC16 <. UC17 : <<extend>>
UC16 <. UC18 : <<extend>>

note right of UC6
  メイン機能:
  ・ML推薦
  ・グラフベース推薦
  ・ハイブリッド推薦
end note

note right of UC10
  多様性戦略:
  ・MMR (Maximal Marginal Relevance)
  ・カテゴリ多様性
  ・タイプ多様性
  ・ハイブリッド
end note

note right of UC11
  機械学習モデル:
  ・NMF (Non-negative Matrix Factorization)
  ・Random Walk with Restart (RWR)
  ・Content-Based Filtering
  ・SEM (Structural Equation Modeling)
end note

note right of UC15
  評価指標:
  ・Precision@K
  ・Recall@K
  ・NDCG@K
  ・Hit Rate
  ・MRR (Mean Reciprocal Rank)
  ・MAP (Mean Average Precision)
  ・多様性メトリクス
end note

note bottom of Employee
  主な目的:
  ・次に取得すべきスキルを知る
  ・ロールモデルを見つける
  ・キャリアパスを計画する
end note

note bottom of HR
  主な目的:
  ・従業員のスキル開発支援
  ・組織のスキルギャップ分析
  ・研修プログラムの計画
end note

note bottom of DataScientist
  主な目的:
  ・推薦モデルの改善
  ・パラメータの最適化
  ・システムパフォーマンス向上
end note

@enduml
