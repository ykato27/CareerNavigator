# Core ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€CareerNavigatorã®**åŸºç›¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“‹ ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å½¹å‰²

- âœ… ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã¨å¤‰æ›
- âœ… æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ã®è©•ä¾¡ï¼ˆMLå°‚ç”¨ï¼‰
- âœ… ãƒ‡ãƒ¼ã‚¿å“è³ªç®¡ç†
- âœ… è¨­å®šç®¡ç†ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- âœ… å‚è€ƒäººç‰©æ¤œç´¢

## ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«åˆ†é¡

### ğŸ¯ ä¸»è¦ãªã‚¯ãƒ©ã‚¹ï¼ˆé‡è¦ï¼‰

ã“ã‚Œã‚‰ã¯ã€æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç›¤ã¨ãªã‚‹ã‚¯ãƒ©ã‚¹ã§ã™ã€‚

| ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¯ãƒ©ã‚¹å | å½¹å‰² |
|---------|---------|------|
| **data_loader.py** | `DataLoader` | **ãƒ‡ãƒ¼ã‚¿èª­è¾¼** - CSVãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€ |
| **data_transformer.py** | `DataTransformer` | **ãƒ‡ãƒ¼ã‚¿å¤‰æ›** - èª­ã¿è¾¼ã‚“ã ãƒ‡ãƒ¼ã‚¿ã‚’æ¨è–¦ç”¨ã«å¤‰æ›ã™ã‚‹ |
| **evaluator.py** | `RecommendationEvaluator` | **è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ** - MLæ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ã®æ€§èƒ½ã‚’è©•ä¾¡ã™ã‚‹ |
| **reference_persons.py** | `ReferencePersonFinder` | **å‚è€ƒäººç‰©æ¤œç´¢** - ãƒ­ãƒ¼ãƒ«ãƒ¢ãƒ‡ãƒ«ã¨ãªã‚‹å…ˆè¼©ã‚’æ¤œç´¢ã™ã‚‹ |

### ğŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

ã‚·ã‚¹ãƒ†ãƒ ãŒæ‰±ã†ãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

| ãƒ•ã‚¡ã‚¤ãƒ« | ä¸»è¦ãªã‚¯ãƒ©ã‚¹ | å½¹å‰² |
|---------|------------|------|
| **models.py** | `Member`, `Competence`, `MemberCompetence`, `Recommendation` | ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å®šç¾©ï¼ˆãƒ¡ãƒ³ãƒãƒ¼ã€åŠ›é‡ã€æ¨è–¦çµæœãªã©ï¼‰ |
| **schemas.py** | Pydantic ã‚¹ã‚­ãƒ¼ãƒ | ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå…¥åŠ›ãƒã‚§ãƒƒã‚¯ï¼‰ |

### ğŸ” è¨ˆç®—ãƒ»åˆ†æ

æ¨è–¦ã«å¿…è¦ãªè¨ˆç®—ã‚„åˆ†æã‚’è¡Œã„ã¾ã™ã€‚

| ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¯ãƒ©ã‚¹å | å½¹å‰² |
|---------|---------|------|
| **skill_dependency_analyzer.py** | `SkillDependencyAnalyzer` | ã‚¹ã‚­ãƒ«ã®ä¾å­˜é–¢ä¿‚ã‚’åˆ†æã™ã‚‹ |

### ğŸ›¡ï¸ å“è³ªç®¡ç†

ãƒ‡ãƒ¼ã‚¿å“è³ªã¨ã‚·ã‚¹ãƒ†ãƒ ã®ä¿¡é ¼æ€§ã‚’ç¢ºä¿ã—ã¾ã™ã€‚

| ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¯ãƒ©ã‚¹/é–¢æ•° | å½¹å‰² |
|---------|-----------|------|
| **data_quality.py** | å“è³ªãƒã‚§ãƒƒã‚¯é–¢æ•° | ãƒ‡ãƒ¼ã‚¿å“è³ªã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ |
| **data_quality_monitor.py** | `DataQualityMonitor` | ãƒ‡ãƒ¼ã‚¿å“è³ªã‚’ç¶™ç¶šçš„ã«ç›£è¦–ã™ã‚‹ |

### âš™ï¸ ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£

è¨­å®šç®¡ç†ã€ãƒ­ã‚®ãƒ³ã‚°ã€ã‚¨ãƒ©ãƒ¼å‡¦ç†ãªã©ã€‚

| ãƒ•ã‚¡ã‚¤ãƒ« | ä¸»è¦ãªã‚¯ãƒ©ã‚¹/é–¢æ•° | å½¹å‰² |
|---------|----------------|------|
| **config.py** | `Config` ã‚¯ãƒ©ã‚¹ | æ¨è–¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨è¨­å®šã‚’ç®¡ç†ã™ã‚‹ |
| **config_v2.py** | æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Config | å®Ÿé¨“çš„ãªè¨­å®šç®¡ç†ï¼ˆé–‹ç™ºä¸­ï¼‰ |
| **logging_config.py** | ãƒ­ã‚°è¨­å®šé–¢æ•° | æ§‹é€ åŒ–ãƒ­ã‚®ãƒ³ã‚°ã®è¨­å®š |
| **errors.py** | ã‚«ã‚¹ã‚¿ãƒ ä¾‹å¤–ã‚¯ãƒ©ã‚¹ | ã‚·ã‚¹ãƒ†ãƒ å›ºæœ‰ã®ã‚¨ãƒ©ãƒ¼å®šç¾© |
| **error_handlers.py** | ã‚¨ãƒ©ãƒ¼å‡¦ç†é–¢æ•° | ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«å‡¦ç†ã™ã‚‹ |
| **retry.py** | ãƒªãƒˆãƒ©ã‚¤ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ | å¤±æ•—æ™‚ã®è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ |
| **interfaces.py** | æŠ½è±¡åŸºåº•ã‚¯ãƒ©ã‚¹ | ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾© |

### ğŸ’¾ persistence/ - ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–

ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã®é€£æºã€ãƒ¢ãƒ‡ãƒ«ã®ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ã€‚

| ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¯ãƒ©ã‚¹/é–¢æ•° | å½¹å‰² |
|---------|-----------|------|
| **database.py** | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ | SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š |
| **models.py** | ORMãƒ¢ãƒ‡ãƒ« | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã®å®šç¾© |
| **repository.py** | `Repository` | ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| **session_manager.py** | `SessionManager` | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† |
| **model_storage.py** | ãƒ¢ãƒ‡ãƒ«ä¿å­˜é–¢æ•° | æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ |
| **streamlit_integration.py** | Streamlité€£æº | Streamlitã¨DBã®çµ±åˆ |

## ğŸš€ ä½¿ã„æ–¹

### ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã¨å¤‰æ›

```python
from skillnote_recommendation.core.data_loader import DataLoader
from skillnote_recommendation.core.data_transformer import DataTransformer

# ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
loader = DataLoader(data_dir='data/')
data = loader.load_all_data()

# ãƒ‡ãƒ¼ã‚¿å¤‰æ›
transformer = DataTransformer()
competence_master = transformer.create_competence_master(data)
member_competence, valid_members = transformer.create_member_competence(
    data, competence_master
)
```

### MLæ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ã®è©•ä¾¡

```python
from skillnote_recommendation.core.evaluator import RecommendationEvaluator
from skillnote_recommendation.ml.ml_recommender import MLRecommender

# MLãƒ¢ãƒ‡ãƒ«ã®å­¦ç¿’
ml_recommender = MLRecommender.build(
    member_competence=member_competence,
    competence_master=competence_master,
    member_master=member_master
)

# è©•ä¾¡å™¨ã®åˆæœŸåŒ–
evaluator = RecommendationEvaluator(recommender=ml_recommender)

# æ™‚ç³»åˆ—åˆ†å‰²è©•ä¾¡
train_data, test_data = evaluator.temporal_train_test_split(
    member_competence, train_ratio=0.8
)
metrics = evaluator.evaluate_recommendations(
    train_data, test_data, competence_master, top_k=10
)
```

### å‚è€ƒäººç‰©æ¤œç´¢

```python
from skillnote_recommendation.core.reference_persons import ReferencePersonFinder

# å‚è€ƒäººç‰©æ¤œç´¢ã®åˆæœŸåŒ–
finder = ReferencePersonFinder(
    member_competence=member_competence,
    member_master=member_master,
    competence_master=competence_master
)

# ç‰¹å®šã®åŠ›é‡ã‚’æŒã¤å‚è€ƒäººç‰©ã‚’æ¤œç´¢
reference_persons = finder.find_reference_persons(
    target_member_code='m48',
    recommended_competence_code='skill_001',
    top_n=3
)
```

## ğŸ“– è©³ã—ãçŸ¥ã‚ŠãŸã„æ–¹ã¸

- **åˆå¿ƒè€…ã®æ–¹**: [åˆå¿ƒè€…å‘ã‘ã‚¬ã‚¤ãƒ‰](../../docs/BEGINNER_GUIDE.md) ã‚’èª­ã‚“ã§ãã ã•ã„
- **é–‹ç™ºè€…ã®æ–¹**: [ã‚³ãƒ¼ãƒ‰æ§‹é€ ã‚¬ã‚¤ãƒ‰](../../docs/CODE_STRUCTURE.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’çŸ¥ã‚ŠãŸã„æ–¹**: [ARCHITECTURE.md](../../ARCHITECTURE.md) ã‚’è¦‹ã¦ãã ã•ã„

## ğŸ”— é–¢é€£ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

- **[ml/](../ml/)** - æ©Ÿæ¢°å­¦ç¿’ãƒ™ãƒ¼ã‚¹ã®æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ 
- **[graph/](../graph/)** - ã‚°ãƒ©ãƒ•ãƒ™ãƒ¼ã‚¹ã®æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ 
- **[utils/](../utils/)** - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°

## âš ï¸ æ³¨æ„äº‹é …

- **config.py ã¨ config_v2.py**: ç¾åœ¨ã¯ `config.py` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚`config_v2.py` ã¯é–‹ç™ºä¸­ã§ã™ã€‚
- **persistence/**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ©Ÿèƒ½ã¯ Streamlit ã‚¢ãƒ—ãƒªã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚CLIä½¿ç”¨æ™‚ã¯ä¸è¦ã§ã™ã€‚
