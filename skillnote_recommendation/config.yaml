# キャリア推薦システム設定ファイル

# ============================================================
# NMF（Non-negative Matrix Factorization）設定
# ============================================================
nmf:
  n_components: 20  # 潜在因子の数（次元数）
  random_state: 42  # 乱数シード（再現性のため）

# ============================================================
# Random Walk with Restart (RWR) 設定
# ============================================================
rwr:
  restart_prob: 0.15  # 再スタート確率（PageRankのダンピング係数相当）
  max_iter: 100  # 最大反復回数
  tolerance: 1.0e-6  # 収束判定の閾値
  max_paths: 3  # 抽出する推薦パスの最大数
  max_path_length: 10  # 推薦パスの最大長（ホップ数）
  min_score_threshold: 1.0e-10  # 最小スコア閾値（これ以下は除外）

# ============================================================
# ハイブリッド推薦設定
# ============================================================
hybrid:
  default_rwr_weight: 0.5  # デフォルトのRWR重み（0.0=NMFのみ、1.0=RWRのみ）
  hybrid_boost_factor: 1.1  # ハイブリッドブーストファクター（未使用の場合は削除可能）

  # スコア閾値（推薦理由生成用）
  thresholds:
    rwr_high: 0.5  # RWRスコアの高閾値
    rwr_low: 0.3   # RWRスコアの低閾値
    nmf_high: 0.5  # NMFスコアの高閾値
    nmf_low: 0.3   # NMFスコアの低閾値

# ============================================================
# キャリアパス分析設定
# ============================================================
career_path:
  # フェーズ名定義
  phases:
    basic: "基礎固め"
    intermediate: "専門性構築"
    expert: "エキスパート"

  # スコアリング重み（合計1.0）
  weights:
    hierarchy: 0.3  # カテゴリー階層の重み（基礎ほど高スコア）
    ease: 0.3       # 習得容易性の重み
    importance: 0.4  # 重要度の重み

  # フェーズ分類閾値（階層レベル）
  phase_thresholds:
    basic_max: 1      # 階層レベル1以下は基礎固め
    intermediate_max: 2  # 階層レベル2以下は専門性構築
    # それ以上はエキスパート

  # フェーズ別色設定（可視化用）
  phase_colors:
    basic: "#4ECDC4"        # 青緑（基礎）
    intermediate: "#FFD93D"  # 黄色（中級）
    expert: "#FF6B6B"       # 赤（上級）

# ============================================================
# UI デフォルト値
# ============================================================
ui:
  default_top_n: 10  # デフォルト推薦数
  default_recommendation_method: "NMF推薦"  # デフォルト推薦手法
  default_diversity_strategy: "hybrid"  # デフォルト多様性戦略
  default_show_paths: true  # デフォルトでパス表示を有効化
